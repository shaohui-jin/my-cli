import{d as _,r as d,b as e,j as w,e as a,N as v,$ as C,a0 as M,c as m,Y as k,F as x,V as y,W as b}from"./index-1d98e04c.js";const W=_({props:{dropDown:{type:Object,required:!0}},emits:["contextMenuClick"],setup(i,{emit:s}){const o=d([{id:0,txt:"刷新",affix:!1,icon:()=>e(a("el-icon"),null,{default:()=>[e(w,null,null)]})},{id:1,txt:"关闭",affix:!1,icon:()=>e(a("el-icon"),null,{default:()=>[e(v,null,null)]})},{id:2,txt:"关闭其他",affix:!1,icon:()=>e(a("el-icon"),null,{default:()=>[e(C,null,null)]})},{id:3,txt:"全部关闭",affix:!1,icon:()=>e(a("el-icon"),null,{default:()=>[e(M,null,null)]})},{id:4,txt:"当前页全屏",affix:!1,icon:()=>e("i",{class:"iconfont icon-fullscreen font14"},null)}]),n=d(!1),u=d({}),c=m(()=>{const{x:t}=i.dropDown;return t+117>document.documentElement.clientWidth?117-(document.documentElement.clientWidth-t):10}),l=m(()=>{const{x:t,y:p}=i.dropDown;return t+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:p}:{x:t,y:p}}),r=t=>s("contextMenuClick",{id:t,...u.value}),h=t=>{u.value=t,t.meta.isAffix?o.value[1].affix=!0:o.value[1].affix=!1,f(),setTimeout(()=>{n.value=!0},10)},f=()=>n.value=!1;return{pointer:l,isShow:n,arrowLeft:c,contextMenus:o,openContextMenu:h,closeContextmenu:f,contextMenuClick:r}},render(){const{isShow:i,arrowLeft:s,contextMenus:o,pointer:n,contextMenuClick:u,closeContextmenu:c}=this;return e(x,null,[e(k,{name:"el-zoom-in-center"},{default:()=>[i?e("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:`top: ${n.y+5}px;left: ${n.x}px;`,key:Math.random()},[e("ul",{class:"el-dropdown-menu"},[o.map((l,r)=>e(x,null,[!l.affix&&y(e("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:r,onClick:()=>u(l.id)},[l.icon(),e("span",null,[l.txt])]),[[b("click-outside"),c,"true"]])]))]),e("div",{class:"el-popper__arrow",style:{left:`${s}px`}},null)]):e("div",null,null)]})])}});export{W as default};
