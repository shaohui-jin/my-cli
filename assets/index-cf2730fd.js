import{d as Jt,r as ne,w as Kt,I as Zt,c as _t,t as Qt,u as X,a as en,L as tn,o as nn,M as on,b as N,e as je,F as Me,j as an,N as Tt,p as rn,_ as ln,l as sn,O as Ct,n as Ot,i as un}from"./index-1d98e04c.js";/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function At(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,o)}return t}function ae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?At(Object(t),!0).forEach(function(o){cn(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function Ke(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ke=function(e){return typeof e}:Ke=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(n)}function cn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fe(){return fe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},fe.apply(this,arguments)}function fn(n,e){if(n==null)return{};var t={},o=Object.keys(n),i,a;for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function dn(n,e){if(n==null)return{};var t=fn(n,e),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)o=a[i],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(t[o]=n[o])}return t}var hn="1.15.0";function ce(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var de=ce(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),He=ce(/Edge/i),xt=ce(/firefox/i),Le=ce(/safari/i)&&!ce(/chrome/i)&&!ce(/android/i),Lt=ce(/iP(ad|od|hone)/i),kt=ce(/chrome/i)&&ce(/android/i),Bt={capture:!1,passive:!1};function T(n,e,t){n.addEventListener(e,t,!de&&Bt)}function D(n,e,t){n.removeEventListener(e,t,!de&&Bt)}function nt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function pn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function oe(n,e,t,o){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&nt(n,e):nt(n,e))||o&&n===t)return n;if(n===t)break}while(n=pn(n))}return null}var It=/\s+/g;function G(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var o=(" "+n.className+" ").replace(It," ").replace(" "+e+" "," ");n.className=(o+(t?" "+e:"")).replace(It," ")}}function p(n,e,t){var o=n&&n.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function xe(n,e){var t="";if(typeof n=="string")t=n;else do{var o=p(n,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Xt(n,e,t){if(n){var o=n.getElementsByTagName(e),i=0,a=o.length;if(t)for(;i<a;i++)t(o[i],i);return o}return[]}function ie(){var n=document.scrollingElement;return n||document.documentElement}function M(n,e,t,o,i){if(!(!n.getBoundingClientRect&&n!==window)){var a,l,s,u,r,h,d;if(n!==window&&n.parentNode&&n!==ie()?(a=n.getBoundingClientRect(),l=a.top,s=a.left,u=a.bottom,r=a.right,h=a.height,d=a.width):(l=0,s=0,u=window.innerHeight,r=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!de))do if(i&&i.getBoundingClientRect&&(p(i,"transform")!=="none"||t&&p(i,"position")!=="static")){var w=i.getBoundingClientRect();l-=w.top+parseInt(p(i,"border-top-width")),s-=w.left+parseInt(p(i,"border-left-width")),u=l+a.height,r=s+a.width;break}while(i=i.parentNode);if(o&&n!==window){var E=xe(i||n),S=E&&E.a,_=E&&E.d;E&&(l/=_,s/=S,d/=S,h/=_,u=l+h,r=s+d)}return{top:l,left:s,bottom:u,right:r,width:d,height:h}}}function Pt(n,e,t){for(var o=me(n,!0),i=M(n)[e];o;){var a=M(o)[t],l=void 0;if(t==="top"||t==="left"?l=i>=a:l=i<=a,!l)return o;if(o===ie())break;o=me(o,!1)}return!1}function Ie(n,e,t,o){for(var i=0,a=0,l=n.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==g.ghost&&(o||l[a]!==g.dragged)&&oe(l[a],t.draggable,n,!1)){if(i===e)return l[a];i++}a++}return null}function Et(n,e){for(var t=n.lastElementChild;t&&(t===g.ghost||p(t,"display")==="none"||e&&!nt(t,e));)t=t.previousElementSibling;return t||null}function Z(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==g.clone&&(!e||nt(n,e))&&t++;return t}function Nt(n){var e=0,t=0,o=ie();if(n)do{var i=xe(n),a=i.a,l=i.d;e+=n.scrollLeft*a,t+=n.scrollTop*l}while(n!==o&&(n=n.parentNode));return[e,t]}function gn(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===n[t][o])return Number(t)}return-1}function me(n,e){if(!n||!n.getBoundingClientRect)return ie();var t=n,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=p(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ie();if(o||e)return t;o=!0}}while(t=t.parentNode);return ie()}function mn(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function st(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var ke;function Yt(n,e){return function(){if(!ke){var t=arguments,o=this;t.length===1?n.call(o,t[0]):n.apply(o,t),ke=setTimeout(function(){ke=void 0},e)}}}function vn(){clearTimeout(ke),ke=void 0}function Ht(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Wt(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var U="Sortable"+new Date().getTime();function bn(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(p(i,"display")==="none"||i===g.ghost)){n.push({target:i,rect:M(i)});var a=ae({},n[n.length-1].rect);if(i.thisAnimationDuration){var l=xe(i,!0);l&&(a.top-=l.f,a.left-=l.e)}i.fromRect=a}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(gn(n,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var a=!1,l=0;n.forEach(function(s){var u=0,r=s.target,h=r.fromRect,d=M(r),w=r.prevFromRect,E=r.prevToRect,S=s.rect,_=xe(r,!0);_&&(d.top-=_.f,d.left-=_.e),r.toRect=d,r.thisAnimationDuration&&st(w,d)&&!st(h,d)&&(S.top-d.top)/(S.left-d.left)===(h.top-d.top)/(h.left-d.left)&&(u=yn(S,w,E,i.options)),st(d,h)||(r.prevFromRect=h,r.prevToRect=d,u||(u=i.options.animation),i.animate(r,S,d,u)),u&&(a=!0,l=Math.max(l,u),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout(function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null},u),r.thisAnimationDuration=u)}),clearTimeout(e),a?e=setTimeout(function(){typeof o=="function"&&o()},l):typeof o=="function"&&o(),n=[]},animate:function(o,i,a,l){if(l){p(o,"transition",""),p(o,"transform","");var s=xe(this.el),u=s&&s.a,r=s&&s.d,h=(i.left-a.left)/(u||1),d=(i.top-a.top)/(r||1);o.animatingX=!!h,o.animatingY=!!d,p(o,"transform","translate3d("+h+"px,"+d+"px,0)"),this.forRepaintDummy=wn(o),p(o,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),p(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){p(o,"transition",""),p(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},l)}}}}function wn(n){return n.offsetWidth}function yn(n,e,t,o){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var Te=[],ut={initializeByDefault:!0},We={mount:function(e){for(var t in ut)ut.hasOwnProperty(t)&&!(t in e)&&(e[t]=ut[t]);Te.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Te.push(e)},pluginEvent:function(e,t,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var a=e+"Global";Te.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][a]&&t[l.pluginName][a](ae({sortable:t},o)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](ae({sortable:t},o)))})},initializePlugins:function(e,t,o,i){Te.forEach(function(s){var u=s.pluginName;if(!(!e.options[u]&&!s.initializeByDefault)){var r=new s(e,t,e.options);r.sortable=e,r.options=e.options,e[u]=r,fe(o,r.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var l=this.modifyOption(e,a,e.options[a]);typeof l<"u"&&(e.options[a]=l)}},getEventProperties:function(e,t){var o={};return Te.forEach(function(i){typeof i.eventProperties=="function"&&fe(o,i.eventProperties.call(t[i.pluginName],e))}),o},modifyOption:function(e,t,o){var i;return Te.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(i=a.optionListeners[t].call(e[a.pluginName],o))}),i}};function En(n){var e=n.sortable,t=n.rootEl,o=n.name,i=n.targetEl,a=n.cloneEl,l=n.toEl,s=n.fromEl,u=n.oldIndex,r=n.newIndex,h=n.oldDraggableIndex,d=n.newDraggableIndex,w=n.originalEvent,E=n.putSortable,S=n.extraEventProperties;if(e=e||t&&t[U],!!e){var _,$=e.options,J="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!de&&!He?_=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(o,!0,!0)),_.to=l||t,_.from=s||t,_.item=i||t,_.clone=a,_.oldIndex=u,_.newIndex=r,_.oldDraggableIndex=h,_.newDraggableIndex=d,_.originalEvent=w,_.pullMode=E?E.lastPutMode:void 0;var V=ae(ae({},S),We.getEventProperties(o,e));for(var H in V)_[H]=V[H];t&&t.dispatchEvent(_),$[J]&&$[J].call(e,_)}}var Sn=["evt"],W=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,a=dn(o,Sn);We.pluginEvent.bind(g)(e,t,ae({dragEl:f,parentEl:x,ghostEl:b,rootEl:O,nextEl:De,lastDownEl:Ze,cloneEl:A,cloneHidden:ge,dragStarted:Ve,putSortable:F,activeSortable:g.active,originalEvent:i,oldIndex:Ae,oldDraggableIndex:Be,newIndex:z,newDraggableIndex:pe,hideGhostForTarget:Gt,unhideGhostForTarget:zt,cloneNowHidden:function(){ge=!0},cloneNowShown:function(){ge=!1},dispatchSortableEvent:function(s){Y({sortable:t,name:s,originalEvent:i})}},a))};function Y(n){En(ae({putSortable:F,cloneEl:A,targetEl:f,rootEl:O,oldIndex:Ae,oldDraggableIndex:Be,newIndex:z,newDraggableIndex:pe},n))}var f,x,b,O,De,Ze,A,ge,Ae,z,Be,pe,Ge,F,Oe=!1,ot=!1,it=[],Ee,ee,ct,ft,Mt,Vt,Ve,Ce,Xe,Ye=!1,ze=!1,Qe,B,dt=[],vt=!1,at=[],lt=typeof document<"u",Ue=Lt,Rt=He||de?"cssFloat":"float",Dn=lt&&!kt&&!Lt&&"draggable"in document.createElement("div"),$t=function(){if(lt){if(de)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),qt=function(e,t){var o=p(e),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),a=Ie(e,0,t),l=Ie(e,1,t),s=a&&p(a),u=l&&p(l),r=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(a).width,h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+M(l).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return l&&(u.clear==="both"||u.clear===d)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||r>=i&&o[Rt]==="none"||l&&o[Rt]==="none"&&r+h>i)?"vertical":"horizontal"},_n=function(e,t,o){var i=o?e.left:e.top,a=o?e.right:e.bottom,l=o?e.width:e.height,s=o?t.left:t.top,u=o?t.right:t.bottom,r=o?t.width:t.height;return i===s||a===u||i+l/2===s+r/2},Tn=function(e,t){var o;return it.some(function(i){var a=i[U].options.emptyInsertThreshold;if(!(!a||Et(i))){var l=M(i),s=e>=l.left-a&&e<=l.right+a,u=t>=l.top-a&&t<=l.bottom+a;if(s&&u)return o=i}}),o},jt=function(e){function t(a,l){return function(s,u,r,h){var d=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(a==null&&(l||d))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return t(a(s,u,r,h),l)(s,u,r,h);var w=(l?s:u).options.group.name;return a===!0||typeof a=="string"&&a===w||a.join&&a.indexOf(w)>-1}}var o={},i=e.group;(!i||Ke(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=t(i.pull,!0),o.checkPut=t(i.put),o.revertClone=i.revertClone,e.group=o},Gt=function(){!$t&&b&&p(b,"display","none")},zt=function(){!$t&&b&&p(b,"display","")};lt&&!kt&&document.addEventListener("click",function(n){if(ot)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),ot=!1,!1},!0);var Se=function(e){if(f){e=e.touches?e.touches[0]:e;var t=Tn(e.clientX,e.clientY);if(t){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[U]._onDragOver(o)}}},Cn=function(e){f&&f.parentNode[U]._isOutsideThisEl(e.target)};function g(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=fe({},e),n[U]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qt(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&!Le,emptyInsertThreshold:5};We.initializePlugins(this,n,t);for(var o in t)!(o in e)&&(e[o]=t[o]);jt(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Dn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(n,"pointerdown",this._onTapStart):(T(n,"mousedown",this._onTapStart),T(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(n,"dragover",this),T(n,"dragenter",this)),it.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),fe(this,bn())}g.prototype={constructor:g,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ce=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,f):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,o=this.el,i=this.options,a=i.preventOnFilter,l=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(s||e).target,r=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,h=i.filter;if(Vn(o),!f&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||i.disabled)&&!r.isContentEditable&&!(!this.nativeDraggable&&Le&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=oe(u,i.draggable,o,!1),!(u&&u.animated)&&Ze!==u)){if(Ae=Z(u),Be=Z(u,i.draggable),typeof h=="function"){if(h.call(this,e,u,this)){Y({sortable:t,rootEl:r,name:"filter",targetEl:u,toEl:o,fromEl:o}),W("filter",t,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(d){if(d=oe(r,d.trim(),o,!1),d)return Y({sortable:t,rootEl:d,name:"filter",targetEl:u,fromEl:o,toEl:o}),W("filter",t,{evt:e}),!0}),h)){a&&e.cancelable&&e.preventDefault();return}i.handle&&!oe(r,i.handle,o,!1)||this._prepareDragStart(e,s,u)}}},_prepareDragStart:function(e,t,o){var i=this,a=i.el,l=i.options,s=a.ownerDocument,u;if(o&&!f&&o.parentNode===a){var r=M(o);if(O=a,f=o,x=f.parentNode,De=f.nextSibling,Ze=o,Ge=l.group,g.dragged=f,Ee={target:f,clientX:(t||e).clientX,clientY:(t||e).clientY},Mt=Ee.clientX-r.left,Vt=Ee.clientY-r.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,f.style["will-change"]="all",u=function(){if(W("delayEnded",i,{evt:e}),g.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!xt&&i.nativeDraggable&&(f.draggable=!0),i._triggerDragStart(e,t),Y({sortable:i,name:"choose",originalEvent:e}),G(f,l.chosenClass,!0)},l.ignore.split(",").forEach(function(h){Xt(f,h.trim(),ht)}),T(s,"dragover",Se),T(s,"mousemove",Se),T(s,"touchmove",Se),T(s,"mouseup",i._onDrop),T(s,"touchend",i._onDrop),T(s,"touchcancel",i._onDrop),xt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),W("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(He||de))){if(g.eventCanceled){this._onDrop();return}T(s,"mouseup",i._disableDelayedDrag),T(s,"touchend",i._disableDelayedDrag),T(s,"touchcancel",i._disableDelayedDrag),T(s,"mousemove",i._delayedDragTouchMoveHandler),T(s,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&T(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,l.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&ht(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):t?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(f,"dragend",this),T(O,"dragstart",this._onDragStart));try{document.selection?et(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Oe=!1,O&&f){W("dragStarted",this,{evt:t}),this.nativeDraggable&&T(document,"dragover",Cn);var o=this.options;!e&&G(f,o.dragClass,!1),G(f,o.ghostClass,!0),g.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ee){this._lastX=ee.clientX,this._lastY=ee.clientY,Gt();for(var e=document.elementFromPoint(ee.clientX,ee.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ee.clientX,ee.clientY),e!==t);)t=e;if(f.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){var o=void 0;if(o=t[U]._onDragOver({clientX:ee.clientX,clientY:ee.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);zt()}},_onTouchMove:function(e){if(Ee){var t=this.options,o=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,l=b&&xe(b,!0),s=b&&l&&l.a,u=b&&l&&l.d,r=Ue&&B&&Nt(B),h=(a.clientX-Ee.clientX+i.x)/(s||1)+(r?r[0]-dt[0]:0)/(s||1),d=(a.clientY-Ee.clientY+i.y)/(u||1)+(r?r[1]-dt[1]:0)/(u||1);if(!g.active&&!Oe){if(o&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(b){l?(l.e+=h-(ct||0),l.f+=d-(ft||0)):l={a:1,b:0,c:0,d:1,e:h,f:d};var w="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");p(b,"webkitTransform",w),p(b,"mozTransform",w),p(b,"msTransform",w),p(b,"transform",w),ct=h,ft=d,ee=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!b){var e=this.options.fallbackOnBody?document.body:O,t=M(f,!0,Ue,!0,e),o=this.options;if(Ue){for(B=e;p(B,"position")==="static"&&p(B,"transform")==="none"&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=ie()),t.top+=B.scrollTop,t.left+=B.scrollLeft):B=ie(),dt=Nt(B)}b=f.cloneNode(!0),G(b,o.ghostClass,!1),G(b,o.fallbackClass,!0),G(b,o.dragClass,!0),p(b,"transition",""),p(b,"transform",""),p(b,"box-sizing","border-box"),p(b,"margin",0),p(b,"top",t.top),p(b,"left",t.left),p(b,"width",t.width),p(b,"height",t.height),p(b,"opacity","0.8"),p(b,"position",Ue?"absolute":"fixed"),p(b,"zIndex","100000"),p(b,"pointerEvents","none"),g.ghost=b,e.appendChild(b),p(b,"transform-origin",Mt/parseInt(b.style.width)*100+"% "+Vt/parseInt(b.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,i=e.dataTransfer,a=o.options;if(W("dragStart",this,{evt:e}),g.eventCanceled){this._onDrop();return}W("setupClone",this),g.eventCanceled||(A=Wt(f),A.removeAttribute("id"),A.draggable=!1,A.style["will-change"]="",this._hideClone(),G(A,this.options.chosenClass,!1),g.clone=A),o.cloneId=et(function(){W("clone",o),!g.eventCanceled&&(o.options.removeCloneOnHide||O.insertBefore(A,f),o._hideClone(),Y({sortable:o,name:"clone"}))}),!t&&G(f,a.dragClass,!0),t?(ot=!0,o._loopId=setInterval(o._emulateDragOver,50)):(D(document,"mouseup",o._onDrop),D(document,"touchend",o._onDrop),D(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(o,i,f)),T(document,"drop",o),p(f,"transform","translateZ(0)")),Oe=!0,o._dragStartId=et(o._dragStarted.bind(o,t,e)),T(document,"selectstart",o),Ve=!0,Le&&p(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,i,a,l,s=this.options,u=s.group,r=g.active,h=Ge===u,d=s.sort,w=F||r,E,S=this,_=!1;if(vt)return;function $(ye,c){W(ye,S,ae({evt:e,isOwner:h,axis:E?"vertical":"horizontal",revert:l,dragRect:i,targetRect:a,canSort:d,fromSortable:w,target:o,completed:V,onMove:function(C,v){return Je(O,t,f,i,C,M(C),e,v)},changed:H},c))}function J(){$("dragOverAnimationCapture"),S.captureAnimationState(),S!==w&&w.captureAnimationState()}function V(ye){return $("dragOverCompleted",{insertion:ye}),ye&&(h?r._hideClone():r._showClone(S),S!==w&&(G(f,F?F.options.ghostClass:r.options.ghostClass,!1),G(f,s.ghostClass,!0)),F!==S&&S!==g.active?F=S:S===g.active&&F&&(F=null),w===S&&(S._ignoreWhileAnimating=o),S.animateAll(function(){$("dragOverAnimationComplete"),S._ignoreWhileAnimating=null}),S!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(o===f&&!f.animated||o===t&&!o.animated)&&(Ce=null),!s.dragoverBubble&&!e.rootEl&&o!==document&&(f.parentNode[U]._isOutsideThisEl(e.target),!ye&&Se(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function H(){z=Z(f),pe=Z(f,s.draggable),Y({sortable:S,name:"change",toEl:t,newIndex:z,newDraggableIndex:pe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=oe(o,s.draggable,t,!0),$("dragOver"),g.eventCanceled)return _;if(f.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||S._ignoreWhileAnimating===o)return V(!1);if(ot=!1,r&&!s.disabled&&(h?d||(l=x!==O):F===this||(this.lastPutMode=Ge.checkPull(this,r,f,e))&&u.checkPut(this,r,f,e))){if(E=this._getDirection(e,o)==="vertical",i=M(f),$("dragOverValid"),g.eventCanceled)return _;if(l)return x=O,J(),this._hideClone(),$("revert"),g.eventCanceled||(De?O.insertBefore(f,De):O.appendChild(f)),V(!0);var L=Et(t,s.draggable);if(!L||In(e,E,this)&&!L.animated){if(L===f)return V(!1);if(L&&t===e.target&&(o=L),o&&(a=M(o)),Je(O,t,f,i,o,a,e,!!o)!==!1)return J(),L&&L.nextSibling?t.insertBefore(f,L.nextSibling):t.appendChild(f),x=t,H(),V(!0)}else if(L&&xn(e,E,this)){var re=Ie(t,0,s,!0);if(re===f)return V(!1);if(o=re,a=M(o),Je(O,t,f,i,o,a,e,!1)!==!1)return J(),t.insertBefore(f,re),x=t,H(),V(!0)}else if(o.parentNode===t){a=M(o);var K=0,le,ve=f.parentNode!==t,R=!_n(f.animated&&f.toRect||i,o.animated&&o.toRect||a,E),be=E?"top":"left",te=Pt(o,"top","top")||Pt(f,"top","top"),we=te?te.scrollTop:void 0;Ce!==o&&(le=a[be],Ye=!1,ze=!R&&s.invertSwap||ve),K=Pn(e,o,a,E,R?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,ze,Ce===o);var Q;if(K!==0){var se=Z(f);do se-=K,Q=x.children[se];while(Q&&(p(Q,"display")==="none"||Q===b))}if(K===0||Q===o)return V(!1);Ce=o,Xe=K;var he=o.nextElementSibling,q=!1;q=K===1;var ue=Je(O,t,f,i,o,a,e,q);if(ue!==!1)return(ue===1||ue===-1)&&(q=ue===1),vt=!0,setTimeout(An,30),J(),q&&!he?t.appendChild(f):o.parentNode.insertBefore(f,q?he:o),te&&Ht(te,0,we-te.scrollTop),x=f.parentNode,le!==void 0&&!ze&&(Qe=Math.abs(le-M(o)[be])),H(),V(!0)}if(t.contains(f))return V(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",Se),D(document,"mousemove",Se),D(document,"touchmove",Se)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(z=Z(f),pe=Z(f,o.draggable),W("drop",this,{evt:e}),x=f&&f.parentNode,z=Z(f),pe=Z(f,o.draggable),g.eventCanceled){this._nulling();return}Oe=!1,ze=!1,Ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bt(this.cloneId),bt(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Le&&p(document.body,"user-select",""),p(f,"transform",""),e&&(Ve&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),(O===x||F&&F.lastPutMode!=="clone")&&A&&A.parentNode&&A.parentNode.removeChild(A),f&&(this.nativeDraggable&&D(f,"dragend",this),ht(f),f.style["will-change"]="",Ve&&!Oe&&G(f,F?F.options.ghostClass:this.options.ghostClass,!1),G(f,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:x,newIndex:null,newDraggableIndex:null,originalEvent:e}),O!==x?(z>=0&&(Y({rootEl:x,name:"add",toEl:x,fromEl:O,originalEvent:e}),Y({sortable:this,name:"remove",toEl:x,originalEvent:e}),Y({rootEl:x,name:"sort",toEl:x,fromEl:O,originalEvent:e}),Y({sortable:this,name:"sort",toEl:x,originalEvent:e})),F&&F.save()):z!==Ae&&z>=0&&(Y({sortable:this,name:"update",toEl:x,originalEvent:e}),Y({sortable:this,name:"sort",toEl:x,originalEvent:e})),g.active&&((z==null||z===-1)&&(z=Ae,pe=Be),Y({sortable:this,name:"end",toEl:x,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){W("nulling",this),O=f=x=b=De=A=Ze=ge=Ee=ee=Ve=z=pe=Ae=Be=Ce=Xe=F=Ge=g.dragged=g.ghost=g.clone=g.active=null,at.forEach(function(e){e.checked=!0}),at.length=ct=ft=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":f&&(this._onDragOver(e),On(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,i=0,a=o.length,l=this.options;i<a;i++)t=o[i],oe(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||Mn(t));return e},sort:function(e,t){var o={},i=this.el;this.toArray().forEach(function(a,l){var s=i.children[l];oe(s,this.options.draggable,i,!1)&&(o[a]=s)},this),t&&this.captureAnimationState(),e.forEach(function(a){o[a]&&(i.removeChild(o[a]),i.appendChild(o[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return oe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var i=We.modifyOption(this,e,t);typeof i<"u"?o[e]=i:o[e]=t,e==="group"&&jt(o)},destroy:function(){W("destroy",this);var e=this.el;e[U]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),it.splice(it.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ge){if(W("hideClone",this),g.eventCanceled)return;p(A,"display","none"),this.options.removeCloneOnHide&&A.parentNode&&A.parentNode.removeChild(A),ge=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ge){if(W("showClone",this),g.eventCanceled)return;f.parentNode==O&&!this.options.group.revertClone?O.insertBefore(A,f):De?O.insertBefore(A,De):O.appendChild(A),this.options.group.revertClone&&this.animate(f,A),p(A,"display",""),ge=!1}}};function On(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Je(n,e,t,o,i,a,l,s){var u,r=n[U],h=r.options.onMove,d;return window.CustomEvent&&!de&&!He?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=n,u.dragged=t,u.draggedRect=o,u.related=i||e,u.relatedRect=a||M(e),u.willInsertAfter=s,u.originalEvent=l,n.dispatchEvent(u),h&&(d=h.call(r,u,l)),d}function ht(n){n.draggable=!1}function An(){vt=!1}function xn(n,e,t){var o=M(Ie(t.el,0,t.options,!0)),i=10;return e?n.clientX<o.left-i||n.clientY<o.top&&n.clientX<o.right:n.clientY<o.top-i||n.clientY<o.bottom&&n.clientX<o.left}function In(n,e,t){var o=M(Et(t.el,t.options.draggable)),i=10;return e?n.clientX>o.right+i||n.clientX<=o.right&&n.clientY>o.bottom&&n.clientX>=o.left:n.clientX>o.right&&n.clientY>o.top||n.clientX<=o.right&&n.clientY>o.bottom+i}function Pn(n,e,t,o,i,a,l,s){var u=o?n.clientY:n.clientX,r=o?t.height:t.width,h=o?t.top:t.left,d=o?t.bottom:t.right,w=!1;if(!l){if(s&&Qe<r*i){if(!Ye&&(Xe===1?u>h+r*a/2:u<d-r*a/2)&&(Ye=!0),Ye)w=!0;else if(Xe===1?u<h+Qe:u>d-Qe)return-Xe}else if(u>h+r*(1-i)/2&&u<d-r*(1-i)/2)return Nn(e)}return w=w||l,w&&(u<h+r*a/2||u>d-r*a/2)?u>h+r/2?1:-1:0}function Nn(n){return Z(f)<Z(n)?1:-1}function Mn(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function Vn(n){at.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&at.push(o)}}function et(n){return setTimeout(n,0)}function bt(n){return clearTimeout(n)}lt&&T(document,"touchmove",function(n){(g.active||Oe)&&n.cancelable&&n.preventDefault()});g.utils={on:T,off:D,css:p,find:Xt,is:function(e,t){return!!oe(e,t,e,!1)},extend:mn,throttle:Yt,closest:oe,toggleClass:G,clone:Wt,index:Z,nextTick:et,cancelNextTick:bt,detectDirection:qt,getChild:Ie};g.get=function(n){return n[U]};g.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(g.utils=ae(ae({},g.utils),o.utils)),We.mount(o)})};g.create=function(n,e){return new g(n,e)};g.version=hn;var P=[],Re,wt,yt=!1,pt,gt,rt,Fe;function Rn(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):o.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):(D(document,"pointermove",this._handleFallbackAutoScroll),D(document,"touchmove",this._handleFallbackAutoScroll),D(document,"mousemove",this._handleFallbackAutoScroll)),Ft(),tt(),vn()},nulling:function(){rt=wt=Re=yt=Fe=pt=gt=null,P.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var i=this,a=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(a,l);if(rt=t,o||this.options.forceAutoScrollFallback||He||de||Le){mt(t,this.options,s,o);var u=me(s,!0);yt&&(!Fe||a!==pt||l!==gt)&&(Fe&&Ft(),Fe=setInterval(function(){var r=me(document.elementFromPoint(a,l),!0);r!==u&&(u=r,tt()),mt(t,i.options,r,o)},10),pt=a,gt=l)}else{if(!this.options.bubbleScroll||me(s,!0)===ie()){tt();return}mt(t,this.options,me(s,!1),!1)}}},fe(n,{pluginName:"scroll",initializeByDefault:!0})}function tt(){P.forEach(function(n){clearInterval(n.pid)}),P=[]}function Ft(){clearInterval(Fe)}var mt=Yt(function(n,e,t,o){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,u=ie(),r=!1,h;wt!==t&&(wt=t,tt(),Re=e.scroll,h=e.scrollFn,Re===!0&&(Re=me(t,!0)));var d=0,w=Re;do{var E=w,S=M(E),_=S.top,$=S.bottom,J=S.left,V=S.right,H=S.width,L=S.height,re=void 0,K=void 0,le=E.scrollWidth,ve=E.scrollHeight,R=p(E),be=E.scrollLeft,te=E.scrollTop;E===u?(re=H<le&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),K=L<ve&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(re=H<le&&(R.overflowX==="auto"||R.overflowX==="scroll"),K=L<ve&&(R.overflowY==="auto"||R.overflowY==="scroll"));var we=re&&(Math.abs(V-i)<=l&&be+H<le)-(Math.abs(J-i)<=l&&!!be),Q=K&&(Math.abs($-a)<=l&&te+L<ve)-(Math.abs(_-a)<=l&&!!te);if(!P[d])for(var se=0;se<=d;se++)P[se]||(P[se]={});(P[d].vx!=we||P[d].vy!=Q||P[d].el!==E)&&(P[d].el=E,P[d].vx=we,P[d].vy=Q,clearInterval(P[d].pid),(we!=0||Q!=0)&&(r=!0,P[d].pid=setInterval((function(){o&&this.layer===0&&g.active._onTouchMove(rt);var he=P[this.layer].vy?P[this.layer].vy*s:0,q=P[this.layer].vx?P[this.layer].vx*s:0;typeof h=="function"&&h.call(g.dragged.parentNode[U],q,he,n,rt,P[this.layer].el)!=="continue"||Ht(P[this.layer].el,q,he)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&w!==u&&(w=me(w,!1)));yt=r}},30),Ut=function(e){var t=e.originalEvent,o=e.putSortable,i=e.dragEl,a=e.activeSortable,l=e.dispatchSortableEvent,s=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(t){var r=o||a;s();var h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(h.clientX,h.clientY);u(),r&&!r.el.contains(d)&&(l("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function St(){}St.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Ie(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:Ut};fe(St,{pluginName:"revertOnSpill"});function Dt(){}Dt.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,i=o||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Ut};fe(Dt,{pluginName:"removeOnSpill"});g.mount(new Rn);g.mount(Dt,St);const Fn=rn(()=>ln(()=>import("./contextMenu-a8969591.js"),["assets/contextMenu-a8969591.js","assets/index-1d98e04c.js","assets/index-2648dcb0.css"])),kn=Jt({setup(){const{proxy:n}=sn(),e=ne([]),t=ne(),o=ne(),i=Kt(),a=Zt(),l=ne(0),s=ne(""),u=ne(i.path),r=ne([]),h=_t(()=>X().useRouteStore.tagViewList),d=c=>X().useThemeStore.isShareTagView?c.path===u.value:c.url?c.url===s.value:c.path===s.value,w=(c=r.value)=>{X().useRouteStore.tagViewList=c},E=c=>{const m=c.query&&Object.keys(c.query).length>0?c.query:c.params&&Object.keys(c.params).length>0?c.params:{};if(Object.keys(m).length===0)return c.path;{let C="";for(const v in m)C+=m[v];return`${c.meta.isDynamic?c.meta.isDynamicPath:c.path}-${C}`}},S=()=>{if(s.value=E(i),u.value=i.path,r.value=[],h.value&&X().useThemeStore.isCacheTagView)r.value=h.value;else{const c=[];h.value.map(m=>{m.meta.isAffix&&!m.meta.isHide&&(m.url=E(m),c.push({...m}))}),r.value=c}J(i),he(X().useThemeStore.isShareTagView?u.value:s.value)},_=c=>{window.App.$console.groupCollapsed("TagView 非共用时的添加路由 ---------------"),window.App.$console.table("tagViews",r.value),window.App.$console.table("tagViewList",h.value),window.App.$console.log(`routeName: ${c.name}, routePath: ${c.path}, routeMeta: ${JSON.stringify(c.meta)}`);const{meta:m,name:C,path:v}=c,y={meta:m,name:C,path:v,url:v};y.meta.isDynamic?y.params=c.params:y.query=c.query,y.url=E(y);const I=r.value.findIndex(k=>k.path===c.path);I>-1?r.value[I]={...y}:r.value.push({...y}),w(),window.App.$console.groupEnd()},$=c=>{window.App.$console.groupCollapsed("TagView 非共用时的添加路由 ---------------"),window.App.$console.table("tagViews",r.value),window.App.$console.table("tagViewList",h.value),window.App.$console.log(`routeName: ${c.name}, routePath: ${c.path}, routeMeta: ${JSON.stringify(c.meta)}`);const m={};if(!r.value.find(v=>{var y,I;return v.path===c.path&&Ct((y=c.meta)!=null&&y.isDynamic?(v==null?void 0:v.params)||m:(v==null?void 0:v.query)||m,(I=c.meta)!=null&&I.isDynamic?(c==null?void 0:c.params)||m:(c==null?void 0:c.query)||m)})){const{meta:v,name:y,path:I}=c,k={meta:v,name:y,path:I,url:I};k.meta.isDynamic?k.params=c.params:k.query=c.query,k.url=E(k),r.value.push({...k}),w(),window.App.$console.groupEnd()}},J=c=>{X().useThemeStore.isShareTagView?_(c):$(c)},V=async c=>{const m={},v=(h.value||r.value).find(j=>j.path===c.path&&Ct(j.meta.isDynamic?(j==null?void 0:j.params)||m:(j==null?void 0:j.query)||m,c.meta.isDynamic?(c==null?void 0:c.params)||m:(c==null?void 0:c.query)||m)),{path:y,name:I,params:k,query:Pe,meta:$e,url:_e}=v,Ne=X().useThemeStore.isShareTagView;switch(c.id){case 0:$e.isDynamic?await a.push({name:I,params:k}):await a.push({path:y,query:Pe}),H(v.fullPath);break;case 1:L(Ne?y:_e);break;case 2:re(v);break;case 3:K();break;case 4:le(Ne?y:_e);break}},H=c=>{n.mittBus.emit("onTagViewRefreshRouterView",c)},L=c=>{const m=X().useThemeStore.isShareTagView;r.value.map((C,v,y)=>{C.meta.isAffix||c===(m?C.path:C.url)&&(r.value.splice(v,1),setTimeout(()=>{c===(m?u.value:s.value)&&(r.value.length===v?y[v-1].meta.isDynamic?a.push({name:y[v-1].name,params:y[v-1].params}):a.push({path:y[v-1].path,query:y[v-1].query}):y[v].meta.isDynamic?a.push({name:y[v].name,params:y[v].params}):a.push({path:y[v].path,query:y[v].query}))},0))}),w()},re=c=>{const{path:m,name:C,params:v,query:y,meta:I}=c;r.value=[],h.value.map(k=>{k.meta.isAffix&&!k.meta.isHide&&r.value.push({...k})}),I.isDynamic?a.push({name:C,params:v}):a.push({path:m,query:y})},K=()=>{r.value=[],h.value.map(c=>{c.meta.isAffix&&!c.meta.isHide&&r.value.push({...c})}),a.push({path:r.value[r.value.length-1].path}),w()},le=c=>{const m=r.value.find(C=>X().useThemeStore.isShareTagView?C.path===c:C.url===c);m.meta.isDynamic?a.push({name:m.name,params:m.params}):a.push({name:m.name,query:m.query}),X().useRouteStore.tagViewCurrenFull=!0},ve=ne(),R=ne({x:0,y:0}),be=(c,m)=>{const{clientX:C,clientY:v}=c;R.value.y=v,R.value.x=C,n.$refs.contextMenuRef.openContextMenu(m),c.preventDefault()},te=(c,m)=>{l.value=m,a.push(c.path)},we=()=>{t.value.update()},Q=c=>{t.value.scrollLeft+=c.wheelDelta/4},se=()=>{Ot(()=>{if(e.value.length<=0)return!1;const c=e.value[l.value],m=l.value,C=e.value.length,v=e.value[0],y=e.value[e.value.length-1],I=t.value,k=I.scrollWidth,Pe=I.offsetWidth,$e=I.scrollLeft,_e=e.value[l.value-1],Ne=e.value[l.value+1];let j="",qe="";c===v?I.scrollLeft=0:c===y?I.scrollLeft=k-Pe:(m===0?j=v.offsetLeft-5:j=(_e==null?void 0:_e.offsetLeft)-5,m===C?qe=y.offsetLeft+y.offsetWidth+5:qe=Ne.offsetLeft+Ne.offsetWidth+5,qe>$e+Pe?I.scrollLeft=qe-Pe:j<$e&&(I.scrollLeft=j)),we()})},he=c=>{Ot(async()=>{const m=r.value;l.value=m.findIndex(C=>X().useThemeStore.isShareTagView?C.path===c:C.url===c),se()})},q=ne(),ue=()=>{var m;const c=document.querySelector(".layout-navbar-tagView-ul");if(!c)return!1;(m=q.value)!=null&&m.el?q.value.destroy():un()||(q.value=new g(c,{animation:300,dataIdAttr:"data-url",disabled:!X().useThemeStore.isSortableTagView,onEnd:()=>{const C=[];q.value.toArray().map(v=>{r.value.map(y=>{y.url===v&&C.push({...y})})}),w(C)}}))};Qt(()=>{ue(),window.addEventListener("resize",ue),n.mittBus.on("onCurrentContextmenuClick",c=>{V(c)}),n.mittBus.on("openOrCloseSortable",()=>ue()),n.mittBus.on("openShareTagsView",()=>{X().useThemeStore.isShareTagView&&(a.push("/home"),r.value=[],h.value.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=E(c),r.value.push({...c}))}))})}),en(()=>{n.mittBus.off("onCurrentContextmenuClick"),n.mittBus.off("openOrCloseSortable"),n.mittBus.off("openShareTagsView"),window.removeEventListener("resize",ue)}),tn(()=>{e.value=[]}),nn(()=>{S()}),on(c=>{s.value=E(c),u.value=c.meta.isDynamic?c.meta.isDynamicPath:c.path,J(c),he(X().useThemeStore.isShareTagView?u.value:s.value)});const ye=_t(()=>X().useThemeStore);return{isActive:d,onContextmenu:be,onTagClick:te,tagRef:e,contextMenuRef:ve,scrollbarRef:t,tagUlRef:o,dropDown:R,onHandleScroll:Q,refreshCurrentTagView:H,closeCurrentTagView:L,onCurrentContextmenuClick:V,themeConfig:ye,tagViewList:h,tagViews:r,routeActive:s}},render(){const{themeConfig:n,tagViewList:e,onContextmenu:t,refreshCurrentTagView:o,isActive:i,onTagClick:a,dropDown:l,closeCurrentTagView:s,onCurrentContextmenuClick:u}=this;return N(Me,null,[N("div",{class:{"layout-navbar-tagView":!0,"layout-navbar-tagView-shadow":n.layout==="classic"}},[N(je("el-scrollbar"),{ref:"scrollbarRef"},{default:()=>[N("ul",{ref:"tagUlRef",class:{"layout-navbar-tagView-ul":!0,[n.tagStyle]:!0}},[e.map((r,h)=>N(Me,null,[N("li",{key:h,class:{"layout-navbar-tagView-ul-li":!0,"is-active":i(r)},"data-url":r.url,onContextmenu:d=>t(d,r),onClick:()=>a(r,h)},[i(r)?N(Me,null,[N("i",{class:"iconfont icon-webicon318 layout-navbar-tagView-ul-li-iconfont font14"},null)]):n.isTagViewIcon&&N("i",{class:`iconfont ${r.meta.icon} layout-navbar-tagView-ul-li-iconfont`},null),N("span",null,[r.meta.title]),i(r)&&N(Me,null,[N(je("el-icon"),{class:["ml5","layout-navbar-tagView-ul-li-refresh"],onClick:d=>{d.stopPropagation(),o(this.$route.fullPath)}},{default:()=>[N(an,null,null)]}),!r.meta.isAffix&&N(Me,null,[N(je("el-icon"),{class:["layout-navbar-tagView-ul-li-icon","layout-icon-active"],onClick:d=>{d.stopPropagation(),s(n.isShareTagView?r.path:r.url)}},{default:()=>[N(Tt,null,null)]})])]),r.meta.isAffix&&N(je("el-icon"),{class:["layout-navbar-tagView-ul-li-iconfont","layout-icon-three"],onClick:d=>{d.stopPropagation(),s(n.isShareTagView?r.path:r.url)}},{default:()=>[N(Tt,null,null)]})])]))])]}),N(Fn,{dropDown:l,ref:"contextMenuRef",onContextMenuClick:r=>u(r)},null)])])}});export{kn as default};
