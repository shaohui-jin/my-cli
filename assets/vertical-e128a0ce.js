import{d as b,c as k,e as i,B as o,C as p,P as g,F as n,Q as C,R as f,b as e,D as S,S as _,f as x,T as I,U as L,q as D,x as M,u as d,o as A,M as B,v as T,V as W,W as N,l as P}from"./index-1d98e04c.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const $=b({name:"NavMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(l){return{chils:k(()=>l.chil)}}}),q=["href"];function w(l,r,a,v,y,h){const s=i("SvgIcon"),u=i("sub-item",!0),c=I,m=L;return o(!0),p(n,null,g(l.chils,t=>(o(),p(n,null,[t.children&&t.children.length>0?(o(),C(c,{key:t.path,index:t.path},{title:f(()=>[e(s,{name:t.meta.icon},null,8,["name"]),S("span",null,_(t.meta.title),1)]),default:f(()=>[e(u,{chil:t.children},null,8,["chil"])]),_:2},1032,["index"])):(o(),C(m,{key:t.path,index:t.path},{default:f(()=>[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?(o(),p(n,{key:0},[e(s,{name:t.meta.icon},null,8,["name"]),S("span",null,_(t.meta.title),1)],64)):(o(),p("a",{key:1,href:t.meta.isLink,target:"_blank",rel:"opener"},[e(s,{name:t.meta.icon},null,8,["name"]),x(" "+_(t.meta.title),1)],8,q))]),_:2},1032,["index"]))],64))),256)}const E=V($,[["render",w]]),F=b({props:{menuList:{type:Array,default:()=>[]}},setup({menuList:l}){const{proxy:r}=P(),a=D({defaultActive:route.meta.isDynamic?route.meta.isDynamicPath:route.path,isCollapse:!1}),v=k(()=>l),y=k(()=>d().useThemeStore.isCollapse),h=s=>{const{path:u,meta:c}=s,m=c.isDynamic?c.isDynamicPath.split("/"):u.split("/");return m.length>=4&&c.isHide?m.splice(0,3).join("/"):u};return M(d().useThemeStore,()=>{document.body.clientWidth<=1e3?a.isCollapse=!1:a.isCollapse=d().useThemeStore.isCollapse},{immediate:!0}),A(()=>{a.defaultActive=h(route)}),B(s=>{a.defaultActive=h(s),r.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(d().useThemeStore.isCollapse=!1)}),{menuLists:v,isCollapse:y,...T(a)}},render(){const{defaultActive:l,isCollapse:r,isUniqueOpened:a}=this;return e(n,null,[e(i("el-menu"),{router:!0,defaultActive:l,backgroundColor:"transparent",onCollapse:r,uniqueOpened:a,collapseTransition:!1},{default:()=>[W(e("div",null,[val.children&&val.children.length>0?e(n,null,[e(i("el-sub-menu"),{index:val.path,key:val.path},{default:()=>[e(E,{chil:val.children},null)],title:()=>e(n,null,[e(i("SvgIcon"),{name:val.meta.icon},null),e("span",null,[val.meta.title])])})]):e(n,null,[e(i("el-menu-item"),{index:val.path,key:val.path},{default:()=>[e(i("SvgIcon"),{name:val.meta.icon},null)],title:()=>!val.meta.isLink||val.meta.isLink&&val.meta.isIframe?e(n,null,[e("span",null,[val.meta.title])]):e(n,null,[e("a",{href:val.meta.isLink,target:"_blank",rel:"opener"},[val.meta.title])])})])]),[[N("for"),"val in menuLists"]])]})])}});export{F as default};
