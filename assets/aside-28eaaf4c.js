import{d as M,r as f,t as T,u as o,c as h,x as S,b as s,F as C,e as b,p as v,_ as F,l as w}from"./index-1d98e04c.js";const B=v(()=>F(()=>import("./vertical-e128a0ce.js"),["assets/vertical-e128a0ce.js","assets/index-1d98e04c.js","assets/index-2648dcb0.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/vertical-34dba8e3.css"])),E=v(()=>F(()=>import("./logo-d495e213.js"),["assets/logo-d495e213.js","assets/index-1d98e04c.js","assets/index-2648dcb0.css"])),W=M({setup(){const{proxy:n}=w(),u=f([]),r=f(0);T(()=>{c(document.body.clientWidth),i(),n.mittBus.on("setSendColumnsChildren",e=>{u.value=e.children}),n.mittBus.on("setSendClassicChildren",e=>{const{layout:t,isClassicSplitMenu:l}=o().useThemeStore;t==="classic"&&l&&(u.value=e.children)}),n.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()}),n.mittBus.on("layoutMobileResize",e=>{c(e.clientWidth),d()})});const c=e=>r.value=e,i=()=>{o().useThemeStore.layout!=="columns"&&(u.value=y(o().useRouteStore.routesList))},y=e=>e.filter(t=>!t.meta.isHide).map(t=>(t=Object.assign({},t),t.children&&(t.children=y(t.children)),t)),L=h(()=>o().useRouteStore.tagViewCurrenFull),g=h(()=>{const{layout:e,isCollapse:t,menuBar:l}=o().useThemeStore,a=["#FFFFFF","#FFF","#fff","#ffffff"].includes(l)?"layout-el-aside-br-color":"";if(r.value<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const R=document.querySelector(".layout-container"),m=document.createElement("div");return m.setAttribute("class","layout-aside-mobile-mode"),R.appendChild(m),m.addEventListener("click",d),[a,"layout-aside-mobile","layout-aside-mobile-open"]}else return d(),[a,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"?t?[a,"layout-aside-pc-1"]:[a,"layout-aside-pc-220"]:t?[a,"layout-aside-pc-64"]:[a,"layout-aside-pc-220"]}),d=()=>{var l;const e=document.querySelector(".layout-aside-mobile-mode");e&&((l=e.parentNode)==null||l.removeChild(e)),document.body.clientWidth<1e3&&(o().useThemeStore.isCollapse=!1),document.body.setAttribute("class","")},_=h(()=>{const{layout:e,isShowLogo:t}=o().useThemeStore;return t&&e==="default"||t&&e==="columns"}),A=e=>{const{layout:t}=o().useThemeStore;if(t!=="columns")return!1;e||n.mittBus.emit("restoreDefault"),o().useRouteStore.isColumnsMenuHover=e},p=f();return S(o().useThemeStore,e=>{e.isShowLogoChange!==e.isShowLogo&&p.value&&p.value.update()}),S(o().useThemeStore,e=>{const{layout:t,isClassicSplitMenu:l}=e;if(t==="classic"&&l)return!1;i()}),{setCollapseStyle:g,setShowLogo:_,tagViewCurrenFull:L,onAsideEnterLeave:A,menuList:u}},render(){const{tagViewCurrenFull:n,setCollapseStyle:u,setShowLogo:r,menuList:c,onAsideEnterLeave:i}=this;return s(C,null,[n?s(C,null,[s("div",{class:"h100"},[s(b("el-aside"),{class:["layout-aside",...u]},{default:()=>[r?s(E,null,null):s("div",null,null),s(b("el-scrollbar"),{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:i(!0),onMouseleave:i(!1)},{default:()=>[s(B,{menuList:c},null)]})]})])]):s("div",null,null)])}});export{W as default};
